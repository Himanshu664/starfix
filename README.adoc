= STARFIX : Simplifying The Devflow
:toc:
:toc-placement!:
endif::[]

image:https://github.com/fahad-israr/Images-for-Readme/blob/master/starfix.png[Starfix Logo,title="Starfix Logo"]

== Intro
Would it not be nice if..

You could open your IDE on any file from any app ? 

OR

Open a repository/file from a browser in your editor of choice ? 

OR

Start a debugger locally from your web browser ? 

**Starfix** is a **cross platform client side application** that would let you **open a file in Editor** of your choice (__vscode, eclipse, intellij, emacs, vi, etc.__) and  other cammands locally **directly from the browser or file system** .This will enable an option to “Open in IDE” through browser extension __on various websites like **github, gitlab,gitbucket** etc__ similar to one you see in this demo below.

== Demo

image:https://user-images.githubusercontent.com/31308705/79685056-61078280-8253-11ea-8ac1-aab1531ca0ab.gif[Starfish Demo]

[discrete]
# INDEX

toc::[]

== Features
**Starfix** is not a **monolithic** application instead its made up of several __sub-features__ :

=== CLI Tool
On entering `starfix` on the terminal the Application Launches.This  is basically done by using a `native executable` placed in appropriate directory along with symbolic links.

=== Configurable
Starfix uses a YAML file to hold the user's preferred choice i.e Editor and clone path which is configurable by the user.

=== Custom Protocol Handler
Starfix includes a custom URL Handler to handle `ide://` on the users machine.We have achieved this  by executing Registry in Windows and by .desktop file in Linux.Whenever a URI with scheme `ide://` is encountered Starfix app is launched with the arguement as the  URI.

=== Browser Extension
To be able to add a "Open In IDE" button on Web Pages and launching the protocol handler we need a browser extension .The extension also acts as the __integration between web and desktop__ . It swritten with  __plain HTML/CSS/JS__.


== Supported Platforms:
- Linux
- Windows
- Mac OS X

== Installation
=== LINUX
- Download the `starfix-linux.zip` file from the Latest Release.
- Extract and Navigate to `installer` directory
- On the terminal execute the following(ensure the current directory is `installer` ) 

[source, bash]
----
./install
----

- Once you execute the above command you'll  be prompted for password (for sudo )
- Test your installation by going to terminal and typing `starfix`
- To set-up the Browser Extension navigate to this section: https://github.com/fahad-israr/starfish/blob/doc/README.adoc#browser-extension[Broswer Extension]

=== WINDOWS
- Download the `starfix-win64.zip` file from the Latest Realease
- Extract and Navigate to `installer` directory
- Now execute the file `install.cmd` (You can simply double click)
- As the app is unrecognized, Windows may launch up a new Dialog titled as `Windows protected your PC` with description `Microsoft Defender SmartScreen prevented an unrecognised app from starting. Running this app might put your PC at risk.`
- You may click on `More info` and the choose `Run anyway`
- You will then be **prompted** with a series of **dialog boxes** asking **permission** for the operatons(modifying the registry). Please **Select Yes** in all those prompts to allow the installation.
- Test your installation by typing `starfix` on the Terminal(Command Prompt or Windows PowerShell)
- To set-up the Browser Extension navigate to this section: https://github.com/fahad-israr/starfish/blob/doc/README.adoc#browser-extension[Broswer Extension]

=== MACOS
- Download the `starfix-macos.zip` file from the Latest Realease
- Extract and Navigate to `installer` directory
- On the terminal execute the following(ensure the current directory is `installer` ) 

[source, bash]
----
./install
----

- Once you execute the above command you'll  be prompted for password (for sudo )
- Test your installation by going to terminal and typing `starfix`
- To set-up the Browser Extension navigate to this section: https://github.com/fahad-israr/starfish/blob/doc/README.adoc#browser-extension[Broswer Extension]

=== BROWSER EXTENSION
-  Clone This Repository.
- Now **Load Unpacked Extension** in the `browser-extension` directory.The method for Loading Unpacked extension generally varies  across **browsers** . We'll guide you with loading up on **Google Chrome** and **Mozilla Firefox**.

==== Loading unpacked on Google Chrome
- Open the Extension Management page by navigating to chrome://extensions.
- The Extension Management page can also be opened by clicking on the Chrome menu, hovering over More Tools then selecting Extensions.
- Enable Developer Mode by clicking the toggle switch next to Developer mode.
- Click the LOAD UNPACKED button and select the extension directory(`browser-extension`).
Ta-da! The extension has been successfully installed

==== Loading unpacked on Mozilla Firefox
- Open the `about:debugging` page
- Click "This Firefox" (in newer versions of Firefox)
- Click "Load Temporary Add-on"
- Select any file(like `manifest.json`) in the extension's directory(`browser-extension`).

__**P.S: Browser Extensions will soon be published on Browser's App Store to simplify installation**__ .

== Usage
 
=== As a CLI Tool
- Launch the terminal and type `starfix https://github.com/user_name/repo_name.git` (You can also use ssh)
- The repository will be cloned in preferred directory and launched in preferred Editor.See the Demo below:
image:https://user-images.githubusercontent.com/31308705/81454321-8aa82f80-91a9-11ea-9aa2-101c21ced321.gif[Starfix CLI,title="Starfix CLI"]

=== Fully Integrated
- Navigate to the repository (on github.com/user/repo)
- Click on "Open in IDE" button on Repository page.
- Repository is cloned in the preferred directory.
- The cloned Repository is opened in the preferred IDE.
image:https://user-images.githubusercontent.com/31308705/79685056-61078280-8253-11ea-8ac1-aab1531ca0ab.gif[Starfix Demo]

=== Configuration Editor
- The first time you launch up starfix you'll be prompted to choose preferred Editor and cloning directory.
- To change the configurations you can launch up terminal and  type `starfix config`
- You'll then be prompted to choose the preferred Editor and cloning path as shown in Demo below.
image:https://user-images.githubusercontent.com/31308705/81454370-b4f9ed00-91a9-11ea-8eef-6f668a66e724.gif[Starfix Configurations,title="Starfix Configurations"]

== Useful resources:

=== Quick Command reference:
- **Starting in Development mode** : `mvn quarkus:dev`
- **Passing arguements** : When you run with `mvn quarkus:dev` you can add `-Dquarkus.args=yourvalue` as arguments you want to pass into the command line.
  Example `mvn quarkus:dev -Dquarkus.args="https://github.com/user/repo.git"`
- **Building native executable** : `mvnw package -Dnative`

=== Links/Resources:
As Starfix uses Command Mode in Quarkus refer these links to learn more about it:

- https://quarkus.io/blog/introducing-command-mode/[Introducing Command Mode ] written by https://github.com/maxandersen[@maxandersen]
- https://quarkus.io/guides/command-mode-reference[QUARKUS - COMMAND MODE APPLICATIONS]



== Technology for Development
- https://quarkus.io/[Quarkus] : The Starfish CLI is built as a native executable with Quarkus.Specifically,we are using the **command mode** of Quarkus.
- https://junit.org/junit5/[JUNIT5]:  As Quarkus supports JUNIT5, it has been used for Unit Testing.
- https://maven.apache.org/plugins/maven-assembly-plugin/[Maven Assembly] : As we needed to combine project output(native exectable) into a single distributable archive that along with installer scripts  we are using Maven Assembly.
- https://github.com/features/actions[Github Actions] : Github actions makes our CI/CD very easy.We are using it build,test and generate artifacts and distributable packages.Currently we are using it  on Pull Request(Builds and generates artifacts), Push(Builds and generates artifacts) and  Releases(generates distributable packages as zip file).We have also set-up a release mechanism on pushing with tags v* .

== Contributing to Starfix
- Issues: Start by looking at the existing issues at https://github.com/maxandersen/starfish/issues[starfix/issues] and create a Pull Request with appropriate description/comment.
- Bugs: Run the starfix application and if you find unexpected behaviour then open a new issue with label `bug` and include a proper description/comment.
- Feature request: Brainstorm ideas and bring them to surface on the features that can be implemented in starfix and then create an issue with label as `enahancement`.Always include as exhaustive description as possible to help understand better.

== FAQS
1) __Why we call it STARFIX ? __

The following image  is good enough to explain ...
image:https://github.com/fahad-israr/Images-for-Readme/blob/master/starfix_illustration.png[Starfix Illustration,title="starfix illustration"]

2) __Why are we using Quarkus?__

The reason for going with this is that **anything other** than this(like node or python bound) would **require additional setup** .On other hand **Java or Native** is something that can be **shipped fairly lightweight**.Furthermore we need a **cross-platform** application(Linux,Windows and MacOS).Thus Quarkus would be the best choice.
